<div class="user-profile_container">
    <mat-sidenav-container>
        <mat-sidenav #sidenav mode="side" position="end">
            <mat-list class="user-information">
                <mat-list-item class="avatar-container">
                    {{user.email}}
                    <ngx-avatar class="my-avatar" size="100" src="{{user.avatar}}"></ngx-avatar>
                </mat-list-item>
                <mat-list-item><button mat-raised-button name="logout" (click)="logoutUser()"
                                                     class="mdc-button mdc-button--unelevated">Logout</button></mat-list-item>
                <div *ngIf="this.editable;else staticValue">
                      <input [(ngModel)]="user.name" matInput>
                </div>
                  <ng-template #staticValue>
                      <mat-list-item>Name: {{user.name}}</mat-list-item>
                  </ng-template>
                <div *ngIf="this.editable;else surname">
                    Surname: <input [(ngModel)]="user.surname" matInput>
                </div>
                  <ng-template #surname>
                    <mat-list-item *ngIf="user.surname">Surname: {{user.surname}}</mat-list-item>
                  </ng-template>
                <div *ngIf="this.editable;else capacity">
                    <input [(ngModel)]="user.capacity" matInput>
                </div>
                  <ng-template #capacity>
                    <mat-list-item>Capacity: {{user.capacity}}</mat-list-item>
                      <mat-list-item>
                        <button mat-raised-button class="edit" (click)="displayCalculateForm=!displayCalculateForm">Calculate capacity</button>
                      </mat-list-item>
                  </ng-template>

                <mat-card *ngIf="displayCalculateForm">
                    <mat-radio-group aria-label="Select a gender" [(ngModel)]="gender" [formControl]="userGender">
                        <mat-radio-button value="male">Male</mat-radio-button>
                        <mat-radio-button value="female">Female</mat-radio-button>
                    </mat-radio-group><br>
                    <mat-form-field class="input-width">
                        <input matInput type="number" min=1 max=1000 placeholder="height, cm" [formControl]="userHeight" #height>
                        <mat-error *ngIf="userHeight.invalid">{{ getHeightErrorMessage() }}</mat-error>
                    </mat-form-field>
                    <mat-form-field class="input-width">
                        <input matInput type="number" min=1 max=1000 placeholder="weight, kg" [formControl]="userWeight" #weight>
                        <mat-error *ngIf="userWeight.invalid">{{ getWeightErrorMessage() }}</mat-error>
                    </mat-form-field><br><br>
                    <button mat-raised-button class="calc" (click)="changeCapacity(height.value, weight.value)" [disabled]="dataInvalid()">OK</button>
                    <button mat-raised-button class="cancel" (click)="displayCalculateForm=false">Cancel</button>
                </mat-card>
                <div *ngIf="this.editable;else submit">
                    <mat-list-item><button mat-raised-button class="edit" (click)="this.editable=false">Submit</button></mat-list-item>
                </div>
                <ng-template #submit>
                    <mat-list-item><button mat-raised-button class="edit" (click)="this.editable=true">Edit profile</button></mat-list-item>
                </ng-template>
                <mat-list-item><button mat-raised-button class="edit">Change password</button></mat-list-item>
            </mat-list>
        </mat-sidenav>
        <mat-sidenav-content>
            <router-outlet></router-outlet>
<!--            <button (click)="sidenav.toggle()">Toggle</button>-->
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>
